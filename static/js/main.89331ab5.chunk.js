(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{212:function(t,e,r){t.exports=r(223)},219:function(t,e,r){},223:function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n),a=r(143),i=r.n(a),c=r(1),u=r(4),l=r(144),s=r(9),f=(r(157),r(38)),h=l.a.initializeApp({apiKey:"AIzaSyCGewxtcay3Z0fubzPX0HIbv-FjToOlqCs",authDomain:"social-app-6644b.firebaseapp.com",projectId:"social-app-6644b",storageBucket:"social-app-6644b.appspot.com",messagingSenderId:"359769561777",appId:"1:359769561777:web:90dba36f38fd3842b4e090",measurementId:"G-YX2S9JG285"}),p=Object(s.h)(h),d=h.auth(),m=Object(f.c)(h);function v(){v=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(_){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new j(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==e&&r.call(y,o)&&(d=y);var g=p.prototype=f.prototype=Object.create(d);function w(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,c(g,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},w(g),c(g,i,"Generator"),c(g,o,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var y=o.a.createContext();function g(){return Object(n.useContext)(y)}function w(t){var e=t.children,r=Object(n.useState)(),a=Object(u.a)(r,2),i=a[0],l=a[1],f=Object(n.useState)(!0),h=Object(u.a)(f,2),m=h[0],g=h[1];Object(n.useEffect)(function(){return d.onAuthStateChanged(function(t){l(t),g(!1)})},[]);var w={currentUser:i,signup:function(t,e){return function(){var t=Object(c.a)(v().mark(function t(e){return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.m)(Object(s.e)(p,"users","".concat(e)),{email:e,ppurl:"https://firebasestorage.googleapis.com/v0/b/social-app-6644b.appspot.com/o/Profile%20pictures%2Fdefault%2Favatar.jpeg?alt=media&token=e8e4f091-46c3-4f1a-a7da-6dbb2d32f829",isOnline:!0,likedPosts:[]});case 2:return t.next=4,Object(s.m)(Object(s.e)(p,"onlineUsers","".concat(e)),{isOnline:!0});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()(t),d.createUserWithEmailAndPassword(t,e)},login:function(t,e){return d.signInWithEmailAndPassword(t,e)},logout:function(t){return d.signOut()},resetPassword:function(t){return d.sendPasswordResetEmail(t)},updateEmail:function(t){return i.updateEmail(t)},updatePassword:function(t){return i.updatePassword(t)}};return o.a.createElement(y.Provider,{value:w},!m&&e)}var b=r(308),E=r(271),x=r(109),O=r(162),j=r(8),L=r(27);function k(){k=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(_){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var _=function(){var t=Object(n.useRef)(),e=Object(n.useRef)(),r=Object(n.useRef)(),a=g().signup,i=Object(n.useState)(""),l=Object(u.a)(i,2),s=l[0],f=l[1],h=Object(n.useState)(!1),p=Object(u.a)(h,2),d=p[0],m=p[1],v=Object(j.g)();function y(){return(y=Object(c.a)(k().mark(function n(o){return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o.preventDefault(),e.current.value===r.current.value){n.next=3;break}return n.abrupt("return",f("Passwords do not match!"));case 3:return n.prev=3,f(""),m(!0),n.next=8,a(t.current.value,e.current.value);case 8:v("/"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),f("Failed to create an account!");case 14:m(!1);case 15:case"end":return n.stop()}},n,null,[[3,11]])}))).apply(this,arguments)}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{display:"grid",alignItems:"center",justifyContent:"center",width:"100vw",height:"100vh"}},o.a.createElement(b.a,{style:{width:"400px",margin:"0 auto"}},o.a.createElement(b.a.Body,null,o.a.createElement("h2",{className:"text-center mb-4"},"Sign Up"),s&&o.a.createElement(E.a,{variant:"danger"},s),o.a.createElement(x.a,{onSubmit:function(t){return y.apply(this,arguments)}},o.a.createElement(x.a.Group,{id:"email"},o.a.createElement(x.a.Label,null,"Email"),o.a.createElement(x.a.Control,{type:"email",ref:t,required:!0})),o.a.createElement(x.a.Group,{id:"password"},o.a.createElement(x.a.Label,null,"Password"),o.a.createElement(x.a.Control,{type:"password",ref:e,required:!0})),o.a.createElement(x.a.Group,{id:"password-confirm"},o.a.createElement(x.a.Label,null,"Password Confirmation"),o.a.createElement(x.a.Control,{type:"password",ref:r,required:!0})),o.a.createElement(O.a,{disabled:d,className:"w-100 mt-3",type:"submit"},"Sign Up"))),o.a.createElement(b.a.Footer,null,o.a.createElement("div",{className:"w-100 text-center"},"Already have an account? ",o.a.createElement(L.b,{to:"/login"},"Log In"))))))},S=r(163);r(195),r(181),r(87);var P=r(311),N=r(282),G=r(313),F=r(315),I=r(314),C=r(225),T=r(168),A=r.n(T),D=r(312),U=r(310),R=r(309),Y=r(299),z=r(316),W=r(183),B=r.n(W),M=r(292),q=r(293),H=r(184),J=r.n(H),K=r(185),X=r.n(K),V=r(187),Z=r.n(V),Q=r(186),$=r.n(Q);function tt(){tt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var et=function(){var t=g(),e=t.currentUser,r=t.logout,a=Object(j.g)(),i=Object(n.useState)(""),l=Object(u.a)(i,2),f=(l[0],l[1]),h=o.a.useState(null),d=Object(u.a)(h,2),m=d[0],v=d[1],y=o.a.useState(null),w=Object(u.a)(y,2),b=w[0],E=w[1],x=function(){v(null)},O=function(){E(null)},k=function(){var t=Object(c.a)(tt().mark(function t(e,r){return tt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.o)(Object(s.e)(p,"users","".concat(r)),{isOnline:e});case 2:return t.next=4,Object(s.d)(Object(s.e)(p,"onlineUsers","".concat(r)));case 4:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}();function _(){return(_=Object(c.a)(tt().mark(function t(){var n;return tt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return f(""),t.prev=1,n=e.email,t.next=5,r(e.email);case 5:k(!1,n),a("/login"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),f("Failed to Log Out!");case 12:case"end":return t.stop()}},t,null,[[1,9]])}))).apply(this,arguments)}var S=Object(n.useState)({}),T=Object(u.a)(S,2),W=T[0],H=T[1];return Object(n.useEffect)(function(){!function(){var t=Object(c.a)(tt().mark(function t(){var r;return tt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.f)(Object(s.e)(p,"users","".concat(e.email)));case 2:r=t.sent,H(r.data());case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[]),o.a.createElement(P.a,{position:"sticky"},o.a.createElement(D.a,{maxWidth:"xl"},o.a.createElement(G.a,{disableGutters:!0},o.a.createElement(I.a,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"}},o.a.createElement(L.b,{style:{textDecoration:"none",color:"white"},exact:!0,to:"/"},"FINKI Student's Pal")),o.a.createElement(N.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}}},o.a.createElement(F.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(t){v(t.currentTarget)},color:"inherit"},o.a.createElement(A.a,null)),o.a.createElement(C.a,{id:"menu-appbar",anchorEl:m,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(m),onClose:x,sx:{display:{xs:"block",md:"none"}}},o.a.createElement(L.b,{style:{textDecoration:"none",color:"black"},exact:!0,to:"/"},o.a.createElement(z.a,{onClick:x},o.a.createElement(M.a,null,o.a.createElement(B.a,{fontSize:"small"})),o.a.createElement(q.a,null,"Forum"))),o.a.createElement(L.b,{style:{textDecoration:"none",color:"black"},to:"/semesters"},o.a.createElement(z.a,{onClick:x},o.a.createElement(M.a,null,o.a.createElement(J.a,{fontSize:"small"})),o.a.createElement(q.a,null,"Semesters"))))),o.a.createElement(I.a,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"}},o.a.createElement(L.b,{style:{textDecoration:"none",color:"white"},exact:!0,to:"/"},"FINKI Student's Pal")),o.a.createElement(N.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}},o.a.createElement(L.b,{style:{textDecoration:"none",color:"white"},exact:!0,to:"/"},o.a.createElement(R.a,{onClick:x,sx:{my:2,color:"white",display:"block"}},"Forum")),o.a.createElement(L.b,{style:{textDecoration:"none",color:"white"},to:"/semesters"},o.a.createElement(R.a,{onClick:x,sx:{my:2,color:"white",display:"block"}},"Semesters"))),o.a.createElement(N.a,{sx:{flexGrow:0}},o.a.createElement(Y.a,{title:"Open settings"},o.a.createElement(F.a,{onClick:function(t){E(t.currentTarget)},sx:{p:0}},o.a.createElement(U.a,{alt:e.email,src:W.ppurl}))),o.a.createElement(C.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(b),onClose:O},o.a.createElement(L.b,{style:{textDecoration:"none",color:"black"},to:"/profile/".concat(e.email)},o.a.createElement(z.a,{onClick:O},o.a.createElement(M.a,null,o.a.createElement(X.a,{fontSize:"small"})),o.a.createElement(q.a,null,"Profile"))),o.a.createElement(L.b,{style:{textDecoration:"none",color:"black"},to:"/messenger/".concat(e.email),state:{sender:e.email,recipient:null}},o.a.createElement(z.a,{onClick:O},o.a.createElement(M.a,null,o.a.createElement($.a,{fontSize:"small"})),o.a.createElement(q.a,null,"Chats"))),o.a.createElement(z.a,{onClick:O&&function(){return _.apply(this,arguments)}},o.a.createElement(M.a,null,o.a.createElement(Z.a,{fontSize:"small"})),o.a.createElement(q.a,null,"Log out")))))))};function rt(){rt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function nt(){var t=Object(j.h)().id,e=Object(n.useState)(""),r=Object(u.a)(e,2),a=r[0],i=r[1],l=Object(n.useState)({}),f=Object(u.a)(l,2),h=f[0],d=f[1],m=g(),v=m.currentUser,y=m.logout,w=Object(j.g)(),x=function(){var t=Object(c.a)(rt().mark(function t(e,r){return rt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.o)(Object(s.e)(p,"users","".concat(r)),{isOnline:e});case 2:return t.next=4,Object(s.d)(Object(s.e)(p,"onlineUsers","".concat(r)));case 4:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}();function k(){return(k=Object(c.a)(rt().mark(function t(){var e;return rt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i(""),t.prev=1,e=v.email,t.next=5,y(v.email);case 5:x(!0,e),w("/login"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),i("Failed to Log Out!");case 12:case"end":return t.stop()}},t,null,[[1,9]])}))).apply(this,arguments)}return Object(n.useEffect)(function(){(function(){var e=Object(c.a)(rt().mark(function e(){var r;return rt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.f)(Object(s.e)(p,"users","".concat(t)));case 2:r=e.sent,d(r.data());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(et,null),o.a.createElement(N.a,{sx:{display:"grid",justifyContent:"center",alignItems:"center",height:"calc(100vh - 78px)"}},o.a.createElement(b.a,{style:{width:"400px"}},o.a.createElement(b.a.Body,null,o.a.createElement("h2",{className:"text-center mb-4"},"Profile"),a&&o.a.createElement(E.a,{variant:"danger"},a),o.a.createElement("div",{style:{display:"grid",justifyContent:"center"}},o.a.createElement(U.a,{sx:{height:"78px",width:"78px"},src:h.ppurl})),o.a.createElement("strong",null,"Email: "),t,v.email===t?o.a.createElement(L.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3"},"Update Profile"):o.a.createElement(L.b,{to:"/messenger/".concat(v.email,"/").concat(t),state:{sender:v.email,recipient:t},className:"btn btn-primary w-100 mt-3"},"Message")),o.a.createElement(b.a.Footer,null,v.email===t?o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(O.a,{variant:"link",onClick:function(){return k.apply(this,arguments)}},"Log Out")):o.a.createElement(o.a.Fragment,null)))))}var ot=r(29),at=r(302),it=r(300),ct=r(321),ut=r(142),lt=r(317),st=r(188),ft=r.n(st),ht=r(72),pt=r.n(ht),dt=r(304);function mt(){mt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var vt=Object(ut.a)(at.a)({display:"flex",alignItems:"center",justifyContent:"center"}),yt=Object(ut.a)(N.a)({display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"});function gt(t){var e=t.setRefresh,r=Object(n.useState)(""),a=Object(u.a)(r,2),i=a[0],l=a[1],h=Object(n.useState)(!1),v=Object(u.a)(h,2),y=v[0],g=v[1],w=Object(n.useState)(null),b=Object(u.a)(w,2),E=b[0],x=b[1],O=Object(n.useState)(""),j=Object(u.a)(O,2),L=j[0],k=j[1],_=Object(n.useState)(""),S=Object(u.a)(_,2),P=S[0],G=S[1],C=Object(n.useState)(!1),T=Object(u.a)(C,2),A=T[0],D=T[1],Y=Object(n.useState)({}),z=Object(u.a)(Y,2),W=z[0],B=z[1];Object(n.useEffect)(function(){(function(){var t=Object(c.a)(mt().mark(function t(){var e;return mt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.f)(Object(s.e)(p,"users","".concat(d.currentUser.email)));case 2:e=t.sent,B(e.data());case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})()()},[]);var M=function(){var t=Object(c.a)(mt().mark(function t(){return mt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:G("".concat(null===E?Object(dt.a)():E.name+Object(dt.a)())),g(!1);case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){if(null===E)k("".concat(Object(dt.a)()));else{D(!0);var t=Object(f.d)(m,"".concat(d.currentUser.email,"/").concat(P));Object(f.e)(t,E).then(function(t){Object(f.b)(t.ref).then(function(t){k(t)})})}},[P]),Object(n.useEffect)(function(){(function(){var t=Object(c.a)(mt().mark(function t(){return mt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!P){t.next=4;break}return t.next=3,Object(s.m)(Object(s.e)(p,"posts","".concat(P)),{author:d.currentUser.email,authorID:d.currentUser.uid,body:i,comments:0,likes:0,likeArray:[],postedAt:Object(s.l)(),hasImage:A,imageUrl:L});case 3:e(!0);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})()(),l("")},[L]),o.a.createElement(N.a,null,o.a.createElement(vt,{open:y,onClose:function(t){return g(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},o.a.createElement(N.a,{width:400,height:350,bgcolor:"white",p:3,borderRadius:5},o.a.createElement(I.a,{variant:"h6",color:"gray",textAlign:"center"},"Create Post"),o.a.createElement(yt,null,o.a.createElement(U.a,{src:W.ppurl,alt:d.currentUser.email}),o.a.createElement(I.a,{fontWeight:500,variant:"span"},d.currentUser.email)),o.a.createElement(it.a,{id:"standard-multiline-static",multiline:!0,rows:4,placeholder:"What's on your mind?",variant:"standard",fullWidth:!0,onChange:function(t){l(t.target.value)}}),o.a.createElement(lt.a,{direction:"row",gap:1,mt:2,mb:3},o.a.createElement(F.a,{color:"primary","aria-label":"upload picture",component:"label"},o.a.createElement("input",{hidden:!0,accept:"image/*",type:"file",onChange:function(t){x(t.target.files[0])}}),o.a.createElement(ft.a,null)),o.a.createElement("span",null,null===E?"":E.name)),o.a.createElement(R.a,{onClick:M},"Post"))),o.a.createElement(N.a,{sx:{width:"100%",position:"fixed",bottom:"30px",left:"0"}},o.a.createElement("div",{style:{margin:"0 auto",width:"56px"}},o.a.createElement(ct.a,{color:"primary","aria-label":"add",onClick:function(t){g(!0)}},o.a.createElement(pt.a,null)))))}var wt=r(12),bt=r(76),Et=r.n(bt),xt=r(322),Ot=r(323),jt=r(325),Lt=r(324),kt=r(326),_t=r(108),St=r.n(_t),Pt=r(131),Nt=r.n(Pt),Gt=r(132),Ft=r.n(Gt),It=r(6),Ct=r(279),Tt=r(90),At=r.n(Tt),Dt=r(107),Ut=r.n(Dt);function Rt(){Rt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Yt=Object(It.a)(at.a)({display:"flex",alignItems:"center",justifyContent:"center"}),zt=(Object(It.a)(N.a)({display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"}),Object(It.a)(function(t){return o.a.createElement(C.a,Object.assign({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},t))})(function(t){var e=t.theme;return{"& .MuiPaper-root":{borderRadius:6,marginTop:e.spacing(1),minWidth:180,color:"light"===e.palette.mode?"rgb(55, 65, 81)":e.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:e.palette.text.secondary,marginRight:e.spacing(1.5)},"&:active":{backgroundColor:Object(Ct.a)(e.palette.primary.main,e.palette.action.selectedOpacity)}}}}}));var Wt=function(t){t.post;var e=t.comments,r=t.postId,a=t.calledFrom,i=t.commentId,l=t.file,h=t.subject,d=Object(f.c)(),m=o.a.useState(null),v=Object(u.a)(m,2),y=v[0],g=v[1],w=Boolean(y),b=Object(n.useState)(!1),E=Object(u.a)(b,2),x=E[0],O=E[1],j=function(){var t=Object(c.a)(Rt().mark(function t(){var n,o;return Rt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<=e.length)){t.next=8;break}return o=e.length+"",t.next=5,Object(s.d)(Object(s.e)(p,"posts",r,"comments",o));case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),L=function(){var t=Object(c.a)(Rt().mark(function t(){return Rt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.length){t.next=3;break}return t.next=3,j();case 3:return t.next=5,Object(s.d)(Object(s.e)(p,"posts",r));case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),k=function(){var t=Object(c.a)(Rt().mark(function t(){return Rt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.d)(Object(s.e)(p,"posts",r,"comments",i));case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),_=function(){var t=Object(c.a)(Rt().mark(function t(){var e;return Rt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(f.d)(d,"".concat(h,"/").concat(l.fileId)),t.next=3,Object(f.a)(e);case 3:return t.next=5,Object(s.d)(Object(s.e)(p,"subjects","".concat(h),"files","".concat(l.fileId)));case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return o.a.createElement(N.a,null,o.a.createElement(F.a,{"aria-label":"more",id:"long-button","aria-controls":w?"long-menu":void 0,"aria-expanded":w?"true":void 0,"aria-haspopup":"true",onClick:function(t){return g(t.currentTarget)}},o.a.createElement(At.a,null)),o.a.createElement(zt,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:y,open:w,onClose:function(){return g(null)},PaperProps:{style:{maxHeight:216,width:"20ch"}}},o.a.createElement(z.a,{onClick:function(){g(null),O(!0)}},"Delete")),o.a.createElement(Yt,{open:x,onClose:function(t){return O(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},o.a.createElement(N.a,{width:170,height:120,bgcolor:"white",p:3,borderRadius:5,margin:"auto"},o.a.createElement(I.a,{variant:"p",color:"black",textAlign:"center"},"Are you sure?"),o.a.createElement(R.a,{color:"success",disableElevation:!0,onClick:"post"===a?L:"comment"===a?k:"subjectFileCard"===a?_:"",endIcon:o.a.createElement(Ut.a,null)},"Confirm"))))};function Bt(){Bt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Mt=function(t){var e=g().currentUser,r=Object(n.useState)({}),a=Object(u.a)(r,2),i=a[0],l=a[1];return Object(n.useEffect)(function(){!function(){var e=Object(c.a)(Bt().mark(function e(){var r;return Bt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.f)(Object(s.e)(p,"users","".concat(t.comment.author)));case 2:r=e.sent,l(r.data());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),o.a.createElement(N.a,null,o.a.createElement(N.a,{sx:{display:"flex",gap:"20px",alignItems:"center",margin:"0 0 7.5px 0",justifyContent:"center"}},o.a.createElement(L.b,{style:{textDecoration:"none",color:"black"},to:"/profile/".concat(t.comment.author)},o.a.createElement(U.a,{alt:t.comment.author,src:i?i.ppurl:""})),o.a.createElement(xt.a,{sx:{backgroundColor:"rgba(237,237,237,0.5)",width:"80%"}},o.a.createElement(Ot.a,{sx:{margin:"0",padding:"5px"},action:e.email===t.comment.author?o.a.createElement("div",null,o.a.createElement(Wt,{commentId:t.commentId,calledFrom:"comment",postId:t.comment.postID})):"",title:o.a.createElement(L.b,{style:{textDecoration:"none",color:"black"},to:"/profile/".concat(t.comment.author)},o.a.createElement(I.a,{variant:"body2",color:"text.primary"},t.comment.author))}),o.a.createElement(Lt.a,{sx:{margin:"0",padding:"0 10px",wordWrap:"break-word"}},o.a.createElement(I.a,{variant:"body2",color:"text.secondary"},t.comment.body)))))};function qt(){qt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function Ht(t){var e=Object(n.useState)(!1),r=Object(u.a)(e,2),a=r[0],i=r[1],l=Object(n.useState)([]),f=Object(u.a)(l,2),h=f[0],m=f[1],v=Object(n.useState)(""),y=Object(u.a)(v,2),g=y[0],w=y[1],b=Object(n.useState)(!1),E=Object(u.a)(b,2),x=(E[0],E[1]),O=Object(n.useState)(!1),j=Object(u.a)(O,2),k=(j[0],j[1],Object(n.useState)("")),_=Object(u.a)(k,2),S=_[0],P=_[1],G=Object(n.useState)(),C=Object(u.a)(G,2),T=(C[0],C[1],Object(n.useState)([])),A=Object(u.a)(T,2),D=A[0],R=A[1],Y=Object(s.c)(p,"posts",t.postId,"comments");Object(n.useEffect)(function(){(function(){var e=Object(c.a)(qt().mark(function e(){var r;return qt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.f)(Object(s.e)(p,"posts",t.postId));case 2:r=e.sent,P(r.data().likes);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[S]);var z=function(){var t=Object(c.a)(qt().mark(function t(){var e;return qt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.g)(Y);case 2:e=t.sent,m(e.docs.map(function(t){return Object(wt.a)({},t.data(),{id:t.id})}));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){0===h.length&&z()},[h]);var W=function(){var e=Object(c.a)(qt().mark(function e(){var r;return qt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length+"",e.next=3,Object(s.m)(Object(s.e)(p,"posts",t.postId,"comments",r),{author:d.currentUser.email,authorID:d.currentUser.uid,body:g,postID:t.postId,postedAt:Object(s.l)()});case 3:return w(""),e.next=6,z();case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(qt().mark(function e(r){var n,o,a,i,c,u;return qt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.f)(Object(s.e)(p,"posts",t.postId));case 2:return n=e.sent,e.next=5,Object(s.f)(Object(s.e)(p,"users",d.currentUser.email));case 5:return o=e.sent,a=o.data().likedPosts,i=n.data().likeArray,c=[],u=[],i.includes(r)?(c=i.filter(function(t){return t!==r}),x(!1),P(c.length),u=a.filter(function(e){return e!==t.postId})):(x(!0),i.push(r),P((c=i).length),a.push(t.postId),u=a),R(u),e.next=14,Object(s.o)(Object(s.e)(p,"posts",t.postId),{likeArray:c,likes:c.length});case 14:return e.next=16,Object(s.o)(Object(s.e)(p,"users",d.currentUser.email),{likedPosts:u});case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),M=Object(n.useState)({}),q=Object(u.a)(M,2),H=q[0],J=q[1];return Object(n.useEffect)(function(){(function(){var e=Object(c.a)(qt().mark(function e(){var r,n;return qt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.f)(Object(s.e)(p,"users","".concat(t.post.author)));case 2:return r=e.sent,e.next=5,Object(s.f)(Object(s.e)(p,"users",d.currentUser.email));case 5:n=e.sent,J(r.data()),R(n.data().likedPosts);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[]),o.a.createElement(xt.a,{sx:{width:{sm:"40vw",xs:"70vw"},maxWidth:"550px",margin:"10px auto"}},o.a.createElement(Ot.a,{avatar:o.a.createElement(U.a,{alt:t.post.author,src:H.ppurl}),action:d.currentUser.email===t.post.author?o.a.createElement("div",null,o.a.createElement(Wt,{calledFrom:"post",post:t.post,comments:h,postId:t.postId})):"",title:o.a.createElement(L.b,{style:{textDecoration:"none",color:"black"},to:"/profile/".concat(t.post.author)},t.post.author),subheader:o.a.createElement(Et.a,{fromNow:!0},t.post.postedAt&&t.post.postedAt.toDate())}),t.post.hasImage&&o.a.createElement(jt.a,{component:"img",height:"194",image:t.post.imageUrl,alt:"image"}),o.a.createElement(Lt.a,null,o.a.createElement(I.a,{variant:"body2",color:"text.secondary"},t.post.body)),o.a.createElement(kt.a,{disableSpacing:!0},o.a.createElement("span",null,S),o.a.createElement(F.a,{"aria-label":"like",onClick:function(){return B(d.currentUser.email)}},o.a.createElement(St.a,{sx:!0===D.includes(t.postId)?{color:"red"}:{}})),o.a.createElement(F.a,{"aria-label":"comment",onClick:function(){return i(!a)}},o.a.createElement(Nt.a,null))),a&&o.a.createElement(N.a,null,o.a.createElement(kt.a,{disableSpacing:!0,sx:{display:"flex",justifyContent:"center"}},o.a.createElement(it.a,{hiddenLabel:!0,id:"filled-hidden-label-small",placeholder:"Write your comment...",value:g,variant:"filled",size:"small",sx:{width:"90%"},onChange:function(t){w(t.target.value)}}),o.a.createElement(F.a,{"aria-label":"post",onClick:W},o.a.createElement(Ft.a,null))),o.a.createElement(N.a,{sx:{padding:"5px"}},h.map(function(t){return o.a.createElement(Mt,{key:Object(dt.a)(),comment:t,commentId:t.id})}))))}function Jt(){Jt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function Kt(){var t=Object(s.c)(p,"posts"),e=Object(n.useState)([]),r=Object(u.a)(e,2),a=r[0],i=r[1],l=Object(n.useState)(!0),f=Object(u.a)(l,2),h=f[0],d=f[1],m=Object(n.useState)({}),v=Object(u.a)(m,2),y=v[0],g=v[1],w=Object(n.useState)(!1),b=Object(u.a)(w,2),E=b[0],x=b[1],O=Object(n.useState)(!0),j=Object(u.a)(O,2),L=j[0],k=j[1],_=Object(n.useState)(!0),P=Object(u.a)(_,2),G=P[0],F=P[1],I=function(){var e=Object(c.a)(Jt().mark(function e(){var r,n,o;return Jt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),h?(r=Object(s.k)(t,Object(s.j)("postedAt","desc"),Object(s.i)(5)),d(!1)):r=y,e.next=4,Object(s.g)(r);case 4:(n=e.sent).docs.map(function(t){var e=t.data();i(function(r){return[].concat(Object(ot.a)(r),[{data:e,id:t.id}])})}),(o=n.docs[n.docs.length-1])?(k(!0),g(Object(s.k)(t,Object(s.j)("postedAt","desc"),Object(s.n)(o),Object(s.i)(5)))):k(!1),x(!1);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),C=Object(n.useRef)(),T=Object(n.useCallback)(function(t){E||(C.current&&C.current.disconnect(),C.current=new IntersectionObserver(function(t){t[0].isIntersecting&&L&&I()}),t&&C.current.observe(t))},[E,L]);return Object(n.useEffect)(function(){!0===G&&(i([]),d(!0))},[G]),Object(n.useEffect)(function(){h&&(I(),F(!1))},[h]),o.a.createElement(N.a,{flex:3,sx:{borderRight:"lightgray 2px solid",borderLeft:"lightgray 2px solid"}},o.a.createElement(S.a,null,o.a.createElement(S.a,null,o.a.createElement(gt,{setRefresh:F}),o.a.createElement("div",{className:"posts"},a.map(function(t,e){return a.length===e+1?o.a.createElement(N.a,{key:t.id},o.a.createElement(Ht,{post:t.data,postId:t.id}),o.a.createElement("div",{ref:T})):o.a.createElement(Ht,{key:t.id,post:t.data,postId:t.id})})))))}var Xt=r(294),Vt=r(320),Zt=r(295),Qt=r(306),$t=r(296);function te(){te=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function ee(){var t=Object(n.useState)(null),e=Object(u.a)(t,2),r=e[0],a=(e[1],Object(n.useState)([])),i=Object(u.a)(a,2),l=(i[0],i[1]),f=Object(s.c)(p,"semesters");Object(n.useEffect)(function(){(function(){var t=Object(c.a)(te().mark(function t(){var e;return te().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.g)(f);case 2:e=t.sent,l(e.docs.map(function(t){return{data:Object(wt.a)({},t.data()),id:t.id}}));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})()()},[r]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(et,null),o.a.createElement(Xt.a,{sx:{maxWidth:"400px",margin:"0 auto"}},o.a.createElement(I.a,{sx:{mt:4,mb:2,textAlign:"center"},variant:"h4",component:"div"},"\u0421\u0435\u043c\u0435\u0441\u0442\u0440\u0438"),o.a.createElement(Vt.a,null,o.a.createElement(Zt.a,null),o.a.createElement(L.b,{style:{textDecoration:"none",color:"black"},to:"/semesters/semester/1",state:{semester:1}},o.a.createElement(Qt.a,null,o.a.createElement($t.a,null,o.a.createElement(q.a,null,"\u0421\u0435\u043c\u0435\u0441\u0442\u0430\u0440 1")))),o.a.createElement(Zt.a,null),o.a.createElement(L.b,{style:{textDecoration:"none",color:"black"},to:"/semesters/semester/2",state:{semester:2}},o.a.createElement(Qt.a,null,o.a.createElement($t.a,null,o.a.createElement(q.a,null,"\u0421\u0435\u043c\u0435\u0441\u0442\u0430\u0440 2")))),o.a.createElement(Zt.a,null),o.a.createElement(L.b,{style:{textDecoration:"none",color:"black"},to:"/semesters/semester/3",state:{semester:3}},o.a.createElement(Qt.a,null,o.a.createElement($t.a,null,o.a.createElement(q.a,null,"\u0421\u0435\u043c\u0435\u0441\u0442\u0430\u0440 3")))),o.a.createElement(Zt.a,null),o.a.createElement(L.b,{style:{textDecoration:"none",color:"black"},to:"/semesters/semester/4",state:{semester:4}},o.a.createElement(Qt.a,null,o.a.createElement($t.a,null,o.a.createElement(q.a,null,"\u0421\u0435\u043c\u0435\u0441\u0442\u0430\u0440 4")))),o.a.createElement(Zt.a,null),o.a.createElement(L.b,{style:{textDecoration:"none",color:"black"},to:"/semesters/semester/5",state:{semester:5}},o.a.createElement(Qt.a,null,o.a.createElement($t.a,null,o.a.createElement(q.a,null,"\u0421\u0435\u043c\u0435\u0441\u0442\u0430\u0440 5")))),o.a.createElement(Zt.a,null),o.a.createElement(L.b,{style:{textDecoration:"none",color:"black"},to:"/semesters/semester/6",state:{semester:6}},o.a.createElement(Qt.a,null,o.a.createElement($t.a,null,o.a.createElement(q.a,null,"\u0421\u0435\u043c\u0435\u0441\u0442\u0430\u0440 6")))),o.a.createElement(Zt.a,null),o.a.createElement(L.b,{style:{textDecoration:"none",color:"black"},to:"/semesters/semester/7",state:{semester:7}},o.a.createElement(Qt.a,null,o.a.createElement($t.a,null,o.a.createElement(q.a,null,"\u0421\u0435\u043c\u0435\u0441\u0442\u0430\u0440 7")))),o.a.createElement(Zt.a,null),o.a.createElement(L.b,{style:{textDecoration:"none",color:"black"},to:"/semesters/semester/8",state:{semester:8}},o.a.createElement(Qt.a,null,o.a.createElement($t.a,null,o.a.createElement(q.a,null,"\u0421\u0435\u043c\u0435\u0441\u0442\u0430\u0440 8")))),o.a.createElement(Zt.a,null))))}var re=r(297),ne=r(198),oe=r.n(ne),ae=r(197),ie=r.n(ae),ce=r(196),ue=r.n(ce),le=r(199),se=r.n(le),fe=r(200),he=r.n(fe);var pe=function(){return o.a.createElement(N.a,{flex:1,p:1,sx:{display:{xs:"none",sm:"block"}}},o.a.createElement(N.a,{sx:{position:"fixed"}},o.a.createElement("h5",null,"\u041a\u043e\u0440\u0438\u0441\u043d\u0438 \u043b\u0438\u043d\u043a\u043e\u0432\u0438"),o.a.createElement(Vt.a,null,o.a.createElement(Qt.a,{disablePadding:!0},o.a.createElement(q.a,{primary:"\u0421\u0435\u0440\u0432\u0438\u0441\u0438 \u043d\u0430 \u0424\u0438\u043d\u043a\u0438"})),o.a.createElement("a",{style:{textDecoration:"none",color:"black"},href:"https://www.finki.ukim.mk/",target:"_blank"},o.a.createElement(Qt.a,{disablePadding:!0},o.a.createElement($t.a,null,o.a.createElement(M.a,null,o.a.createElement(ue.a,null)),o.a.createElement(q.a,{primary:"\u0424\u0438\u043d\u043a\u0438"})))),o.a.createElement("a",{style:{textDecoration:"none",color:"black"},href:"https://www.iknow.ukim.mk/",target:"_blank"},o.a.createElement(Qt.a,{disablePadding:!0},o.a.createElement($t.a,null,o.a.createElement(M.a,null,o.a.createElement(ie.a,null)),o.a.createElement(q.a,{primary:"Iknow"})))),o.a.createElement("a",{style:{textDecoration:"none",color:"black"},href:"https://courses.finki.ukim.mk/",target:"_blank"},o.a.createElement(Qt.a,{disablePadding:!0},o.a.createElement($t.a,null,o.a.createElement(M.a,null,o.a.createElement(oe.a,null)),o.a.createElement(q.a,{primary:"\u041a\u0443\u0440\u0441\u0435\u0432\u0438"})))),o.a.createElement("a",{style:{textDecoration:"none",color:"black"},href:"https://ispiti.finki.ukim.mk/",target:"_blank"},o.a.createElement(Qt.a,{disablePadding:!0},o.a.createElement($t.a,null,o.a.createElement(M.a,null,o.a.createElement(se.a,null)),o.a.createElement(q.a,{primary:"\u0418\u0441\u043f\u0438\u0442\u0438"})))),o.a.createElement("a",{style:{textDecoration:"none",color:"black"},href:"https://finki.edupage.org/timetable/",target:"_blank"},o.a.createElement(Qt.a,{disablePadding:!0},o.a.createElement($t.a,null,o.a.createElement(M.a,null,o.a.createElement(he.a,null)),o.a.createElement(q.a,{primary:"\u0420\u0430\u0441\u043f\u043e\u0440\u0435\u0434"})))))))},de=r(303);function me(){me=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ve=function(){var t=g().currentUser,e=Object(n.useState)([]),r=Object(u.a)(e,2),a=r[0],i=r[1];return Object(n.useEffect)(function(){!function(){var t=Object(c.a)(me().mark(function t(){var e;return me().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.g)(Object(s.c)(p,"onlineUsers"));case 2:e=t.sent,i(e.docs.map(function(t){return{data:Object(wt.a)({},t.data()),id:t.id,key:t.id}}));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[]),o.a.createElement(N.a,{flex:1,sx:{display:{xs:"none",sm:"block"}}},o.a.createElement(N.a,{sx:{position:"fixed"}},o.a.createElement(Vt.a,null,o.a.createElement(Qt.a,null,o.a.createElement("h5",null,"Online Users")),a.map(function(e){return e.id!==t.email?o.a.createElement(L.b,{key:e.id,to:"/profile/".concat(e.id),style:{textDecoration:"none",color:"black"}},o.a.createElement(Qt.a,{sx:{margin:"0",padding:"2px 3px"}},o.a.createElement($t.a,{sx:{display:"flex",alignItems:"center",gap:"10px",padding:"0",margin:"0",justifyContent:"center"}},e.data.isOnline&&o.a.createElement(de.a,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:o.a.createElement("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"green"}})},o.a.createElement(U.a,{sx:{width:34,height:34},src:e.id,alt:e.id})),o.a.createElement("p",{style:{width:"100px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},e.id)))):o.a.createElement("div",{key:Object(dt.a)()})}))))};function ye(){var t=Object(n.useState)(""),e=Object(u.a)(t,2),r=(e[0],e[1],g());r.currentUser,r.logout,Object(j.g)();return o.a.createElement(N.a,null,o.a.createElement(et,null),o.a.createElement(re.a,{direction:"row",justifyContent:"space-between",gap:2},o.a.createElement(pe,null),o.a.createElement(Kt,null),o.a.createElement(ve,null)))}function ge(){ge=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var we=function(){var t=Object(n.useRef)(),e=Object(n.useRef)(),r=g().login,a=Object(n.useState)(""),i=Object(u.a)(a,2),l=i[0],f=i[1],h=Object(n.useState)(!1),d=Object(u.a)(h,2),m=d[0],v=d[1],y=Object(j.g)(),w=function(){var t=Object(c.a)(ge().mark(function t(e,r){return ge().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.o)(Object(s.e)(p,"users","".concat(r)),{isOnline:e});case 2:return t.next=4,Object(s.m)(Object(s.e)(p,"onlineUsers","".concat(r)),{isOnline:!0});case 4:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}();function k(){return(k=Object(c.a)(ge().mark(function n(o){return ge().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.preventDefault(),n.prev=1,f(""),v(!0),n.next=6,r(t.current.value,e.current.value);case 6:w(!0,t.current.value),y("/"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),f("Failed to sign in!");case 13:v(!1);case 14:case"end":return n.stop()}},n,null,[[1,10]])}))).apply(this,arguments)}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{display:"grid",alignItems:"center",justifyContent:"center",width:"100vw",height:"100vh"}},o.a.createElement(b.a,{style:{width:"400px",margin:"0 auto"}},o.a.createElement(b.a.Body,null,o.a.createElement("h2",{className:"text-center mb-4"},"Log In"),l&&o.a.createElement(E.a,{variant:"danger"},l),o.a.createElement(x.a,{onSubmit:function(t){return k.apply(this,arguments)}},o.a.createElement(x.a.Group,{id:"email"},o.a.createElement(x.a.Label,null,"Email"),o.a.createElement(x.a.Control,{type:"email",ref:t,required:!0})),o.a.createElement(x.a.Group,{id:"password"},o.a.createElement(x.a.Label,null,"Password"),o.a.createElement(x.a.Control,{type:"password",ref:e,required:!0})),o.a.createElement(O.a,{disabled:m,className:"w-100 mt-3",type:"submit"},"Log In")),o.a.createElement("div",{className:"w-100 text-center mt-3"},o.a.createElement(L.b,{to:"/forgot-password"},"Forgot password?"))),o.a.createElement(b.a.Footer,null,o.a.createElement("div",{className:"w-100 text-center "},"Need an account? ",o.a.createElement(L.b,{to:"/signup"},"Sign Up"))))))};function be(t){var e=t.children;return g().currentUser?e:o.a.createElement(j.a,{to:"/login"})}function Ee(){Ee=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function xe(){var t=Object(n.useRef)(),e=g().resetPassword,r=Object(n.useState)(""),a=Object(u.a)(r,2),i=a[0],l=a[1],s=Object(n.useState)(!1),f=Object(u.a)(s,2),h=f[0],p=f[1],d=Object(n.useState)(""),m=Object(u.a)(d,2),v=m[0],y=m[1];function w(){return(w=Object(c.a)(Ee().mark(function r(n){return Ee().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),r.prev=1,y(""),l(""),p(!0),r.next=7,e(t.current.value);case 7:y("Check your indox for further information!"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),l("Failed to reset password!");case 13:p(!1);case 14:case"end":return r.stop()}},r,null,[[1,10]])}))).apply(this,arguments)}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{display:"grid",alignItems:"center",justifyContent:"center",width:"100vw",height:"100vh"}},o.a.createElement(b.a,{style:{width:"400px",margin:"0 auto"}},o.a.createElement(b.a.Body,null,o.a.createElement("h2",{className:"text-center mb-4"},"Reset Password"),i&&o.a.createElement(E.a,{variant:"danger"},i),v&&o.a.createElement(E.a,{variant:"success"},v),o.a.createElement(x.a,{onSubmit:function(t){return w.apply(this,arguments)}},o.a.createElement(x.a.Group,{id:"email"},o.a.createElement(x.a.Label,null,"Email"),o.a.createElement(x.a.Control,{type:"email",ref:t,required:!0})),o.a.createElement(O.a,{disabled:h,className:"w-100 mt-3",type:"submit"},"Reset Password")),o.a.createElement("div",{className:"w-100 text-center mt-3"},o.a.createElement(L.b,{to:"/login"},"Log In"))),o.a.createElement(b.a.Footer,null,o.a.createElement("div",{className:"w-100 text-center"},"Need an account? ",o.a.createElement(L.b,{to:"/signup"},"Sign Up"))))))}function Oe(){Oe=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var je=function(){var t=Object(n.useRef)(),e=Object(n.useRef)(),r=Object(n.useRef)(),a=g(),i=a.currentUser,l=a.updatePassword,h=a.updateEmail,d=Object(n.useState)(""),v=Object(u.a)(d,2),y=v[0],w=v[1],k=Object(n.useState)(!1),_=Object(u.a)(k,2),S=_[0],P=_[1],N=Object(n.useState)(null),G=Object(u.a)(N,2),F=G[0],I=G[1],C=Object(n.useState)(null),T=Object(u.a)(C,2),A=T[0],D=T[1],U=Object(j.g)(),R=Object(s.e)(p,"users","".concat(i.email)),Y=function(){var t=Object(c.a)(Oe().mark(function t(){var e;return Oe().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==F){t.next=2;break}return t.abrupt("return");case 2:return e=Object(f.d)(m,"Profile pictures/".concat(i.email,"/").concat(i.email)),Object(f.e)(e,F).then(function(t){Object(f.b)(t.ref).then(function(t){D(t)})}),t.next=6,Object(s.o)(R,{ppurl:A});case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){null!==A&&function(){var t=Object(c.a)(Oe().mark(function t(){return Oe().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.o)(R,{ppurl:A});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[A]),o.a.createElement(o.a.Fragment,null,o.a.createElement(et,null),o.a.createElement("div",{style:{display:"grid",justifyContent:"center",alignItems:"center",height:"calc(100vh - 78px)"}},o.a.createElement(b.a,{style:{width:"400px"}},o.a.createElement(b.a.Body,null,o.a.createElement("h2",{className:"text-center mb-4"},"Update Profile"),y&&o.a.createElement(E.a,{variant:"danger"},y),o.a.createElement(x.a,{onSubmit:function(n){if(n.preventDefault(),e.current.value!==r.current.value)return w("Passwords do not match!");var o=[];w(""),P(!0),t.current.value!==i.email&&o.push(h(t.current.value)),e.current.value&&o.push(l(e.current.value)),Promise.all(o).then(function(){U("/")}).catch(function(){w("Failed to update account")}).finally(function(){P(!1)})}},o.a.createElement(x.a.Group,null,o.a.createElement(x.a.Label,null,"Profile picture"),o.a.createElement(x.a.Control,{onChange:function(t){I(t.target.files[0])},type:"file",accept:"image"}),o.a.createElement(O.a,{onClick:Y},"Upload")),o.a.createElement(x.a.Group,{id:"email"},o.a.createElement(x.a.Label,null,"Email"),o.a.createElement(x.a.Control,{type:"email",ref:t,defaultValue:i.email})),o.a.createElement(x.a.Group,{id:"password"},o.a.createElement(x.a.Label,null,"Password"),o.a.createElement(x.a.Control,{type:"password",ref:e,placeholder:"Leave blank to keep the same"})),o.a.createElement(x.a.Group,{id:"password-confirm"},o.a.createElement(x.a.Label,null,"Password Confirmation"),o.a.createElement(x.a.Control,{type:"password",ref:r,placeholder:"Leave blank to keep the same"})),o.a.createElement(O.a,{disabled:S,className:"w-100 mt-3",type:"submit"},"Update"))),o.a.createElement(b.a.Footer,null,o.a.createElement(L.b,{to:"/profile/".concat(i.email),state:{profile:i.email}},o.a.createElement("p",{style:{textAlign:"center"}},"Cancel"))))))};function Le(t){var e=t.children;return g().currentUser?o.a.createElement(j.a,{to:"/"}):e}function ke(){ke=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function _e(){var t=window.location.pathname.slice(20,21),e=Object(n.useState)(""),r=Object(u.a)(e,2),a=r[0],i=r[1],l=Object(n.useState)([]),f=Object(u.a)(l,2),h=f[0],d=f[1],m=Object(n.useState)({}),v=Object(u.a)(m,2),y=(v[0],v[1],Object(n.useState)(!1)),g=Object(u.a)(y,2),w=g[0],b=g[1];Object(n.useEffect)(function(){i(t)},[]);var E,x=Object(s.c)(p,"semesters");Object(n.useEffect)(function(){(function(){var t=Object(c.a)(ke().mark(function t(){var e;return ke().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.g)(x);case 2:e=t.sent,d(e.docs.map(function(t){return{data:Object(wt.a)({},t.data()),id:t.id}}));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})()()},[a,w]),h[a-1]&&(E=h[a-1].data.subjects);Object(s.e)(p,"semesters","".concat(t));var O=Object(n.useState)(!1),j=Object(u.a)(O,2),k=j[0],_=j[1],S=Object(n.useState)(""),P=Object(u.a)(S,2),G=P[0],F=P[1],C=function(){var t=Object(c.a)(ke().mark(function t(){return ke().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.o)(Object(s.e)(p,"semesters","".concat(a)),{subjects:Object(s.b)("".concat(G))});case 2:return t.next=4,Object(s.m)(Object(s.e)(p,"subjects","".concat(G)),{description:""});case 4:F(""),b(!w);case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(et,null),o.a.createElement(N.a,{sx:{maxWidth:"500px",margin:"0 auto"}},o.a.createElement(I.a,{sx:{mt:5,mb:2,textAlign:"center"},variant:"h4",component:"div"},"\u0421\u0435\u043c\u0435\u0441\u0442\u0430\u0440 ",a),o.a.createElement(Vt.a,null,E&&E.map(function(t){return o.a.createElement(L.b,{key:a,style:{textDecoration:"none",color:"black"},to:"/semesters/semester/".concat(a,"/subject/").concat(t),state:{subject:t}},o.a.createElement(Qt.a,null,o.a.createElement($t.a,null,o.a.createElement(q.a,null,t))))})),o.a.createElement(N.a,null,k?o.a.createElement(N.a,null,o.a.createElement(kt.a,{disableSpacing:!0},o.a.createElement(it.a,{onChange:function(t){F(t.target.value)},placeholder:"Enter the name of the subject",variant:"standard",fullWidth:!0}),o.a.createElement(R.a,{onClick:function(t){t.preventDefault(),C()&&_(!k)}},o.a.createElement(pt.a,null)))):o.a.createElement(R.a,{variant:"outlined",onClick:function(){_(!k)}},"Add new subject"))))}var Se=r(201),Pe=r.n(Se),Ne=r(202),Ge=r.n(Ne),Fe=r(189),Ie=r.n(Fe);var Ce=function(t){return o.a.createElement(N.a,null,o.a.createElement(M.a,{sx:{gap:"10px",alignItems:"center"}},t.file.fileName.endsWith(".pdf")?o.a.createElement(Pe.a,null):t.file.fileName.endsWith(".mp4")?o.a.createElement(Ie.a,null):o.a.createElement(Ge.a,null),o.a.createElement(q.a,{primary:t.file.fileName})))},Te=r(104),Ae=r(191),De=r.n(Ae),Ue=r(203),Re=r.n(Ue);function Ye(){Ye=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ze=Object(It.a)(at.a)({display:"flex",alignItems:"center",justifyContent:"center"});var We=function(t){var e=Object(n.useState)(t.modal),r=Object(u.a)(e,2),a=r[0],i=r[1],l=Object(n.useState)([]),h=Object(u.a)(l,2),d=h[0],m=h[1],v=Object(f.c)(),y=g().currentUser,w=Object(Te.a)({accept:["image/*","video/mp4","application/pdf"],onDrop:function(t){m(d.concat(t))}}),b=w.getRootProps,E=w.getInputProps,x=w.isDragActive,O=function(){var e=Object(c.a)(Ye().mark(function e(){return Ye().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==d){e.next=2;break}return e.abrupt("return");case 2:d.map(function(e){var r="".concat(e.name+Object(dt.a)()),n=Object(f.d)(v,"".concat(t.subject,"/").concat(r));Object(f.e)(n,e).then(function(n){Object(f.b)(n.ref).then(function(n){!function(){var o=Object(c.a)(Ye().mark(function o(){return Ye().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(s.m)(Object(s.e)(p,"subjects","".concat(t.subject),"files","".concat(r)),{url:n,fileName:e.name,fileId:r,author:y.email});case 2:case"end":return o.stop()}},o)}));return function(){return o.apply(this,arguments)}}()()})})}),i(!1);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return o.a.createElement(N.a,null,o.a.createElement(ct.a,{sx:{margin:"15px calc(50vw - 26px) "},color:"primary","aria-label":"add",onClick:function(){i(!0)}},o.a.createElement(pt.a,null)),o.a.createElement(ze,{open:a,onClose:function(t){return i(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},o.a.createElement(N.a,null,o.a.createElement(N.a,{sx:{justifyContent:"space-around",alignItems:"center",maxWidth:"400px",backgroundColor:"gray",display:"flex",flexDirection:"column"}},o.a.createElement(xt.a,Object.assign({sx:{justifyContent:"center",display:"flex",flexDirection:"column",alignItems:"center",width:"350px",backgroundColor:"whitesmoke",margin:"20px"}},b()),o.a.createElement("input",E()),o.a.createElement("div",{style:{width:"100%",height:"150px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},x?o.a.createElement("p",null,"Drop the files here"):o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Drag and drop the files here, or click to select"),o.a.createElement(Re.a,{sx:{width:"56px",height:"56px"}})))),o.a.createElement(N.a,null,o.a.createElement(Vt.a,null,d&&d.map(function(t){return o.a.createElement(Qt.a,{key:t.name},t.name,o.a.createElement(F.a,{onClick:function(){m(d.filter(function(e){return e.name!==t.name}))}},o.a.createElement(De.a,null)))}))),o.a.createElement(R.a,{variant:"contained",onClick:O},"Upload")))))};function Be(){Be=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Me=function(){var t=g().currentUser,e=window.location.pathname,r=decodeURIComponent(e.slice(30)),a=Object(n.useState)([]),i=Object(u.a)(a,2),l=i[0],h=i[1];return Object(f.d)(m,"".concat(r,"/")),Object(n.useEffect)(function(){!function(){var t=Object(c.a)(Be().mark(function t(){var e;return Be().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.g)(Object(s.c)(p,"subjects/".concat(r,"/files")));case 2:e=t.sent,h(e.docs.map(function(t){return Object(wt.a)({},t.data())}));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[]),o.a.createElement(N.a,{sx:{overflow:"hidden"}},o.a.createElement(et,null),o.a.createElement("h1",{style:{textAlign:"center",margin:"30px",padding:"5px"}},r),o.a.createElement(N.a,null,o.a.createElement(N.a,{sx:{maxWidth:"500px",maxHeight:"60vh",margin:"0 auto",overflowY:"scroll"}},o.a.createElement(Vt.a,null,l.map(function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Qt.a,{disablePadding:!0,sx:{justifyContent:"space-between"}},o.a.createElement("a",{target:"_blank",style:{textDecoration:"none",color:"whitesmoke"},href:e.url},o.a.createElement($t.a,null,o.a.createElement(Ce,{key:e.fileId,file:e}))),t.email===e.author?o.a.createElement(Wt,{key:e.fileId,calledFrom:"subjectFileCard",file:e,subject:r}):""))}))),o.a.createElement(N.a,{sx:{margin:"auto"}},o.a.createElement(We,{modal:!1,subject:r}))))};var qe=function(t){var e=t.message,r=t.sender,a=t.createdAt,i=t.senderPP,c=t.recipientPP,l=Object(n.useState)("top-start"),s=Object(u.a)(l,2),f=(s[0],s[1],g().currentUser),h={},p={};return p=r===f.email?{width:"100%",display:"flex",justifyContent:"flex-end"}:{width:"100%",display:"flex",justifyContent:"flex-start"},h=r===f.email?{backgroundColor:"#0B5ED7",padding:"0px 5px",color:"white",minWidth:"15vw",maxWidth:"50vw",borderRadius:"10px"}:{backgroundColor:"#BBB",padding:"0px 5px",minWidth:"15vw",maxWidth:"50vw",borderRadius:"10px"},o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{sx:{padding:"0 5px",margin:"5px 0",display:"flex",alignItems:"center",gap:"5px"}},r!==f.email&&o.a.createElement(U.a,{src:c}),o.a.createElement("div",{style:p},o.a.createElement("div",{className:"msg_wrapper",style:h},o.a.createElement("h6",null,r),o.a.createElement("p",{style:{padding:"0 10px",display:"inline-block",textAlign:"left",borderRadius:"5px",overflowWrap:"anywhere"}},e),o.a.createElement("br",null),o.a.createElement("small",{style:{display:"inline-block",marginTop:"5px",opacity:"0.8",padding:"0 0 5px 5px"}},o.a.createElement(Et.a,{fromNow:!0},a&&a.toDate())))),r===f.email&&o.a.createElement(U.a,{src:i})))},He=r(204),Je=r.n(He);function Ke(){Ke=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Xe=Object(It.a)(function(t){return o.a.createElement(C.a,Object.assign({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},t))})(function(t){var e=t.theme;return{"& .MuiPaper-root":{borderRadius:6,marginTop:e.spacing(1),minWidth:180,color:"light"===e.palette.mode?"rgb(55, 65, 81)":e.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:e.palette.text.secondary,marginRight:e.spacing(1.5)},"&:active":{backgroundColor:Object(Ct.a)(e.palette.primary.main,e.palette.action.selectedOpacity)}}}}});function Ve(t){var e=t.setReload,r=o.a.useState(null),a=Object(u.a)(r,2),i=a[0],l=a[1],f=Boolean(i),h=g().currentUser,d=Object(n.useState)([]),m=Object(u.a)(d,2),v=m[0],y=m[1],w=Object(n.useState)([]),b=Object(u.a)(w,2),E=b[0],x=b[1];return Object(n.useEffect)(function(){(function(){var t=Object(c.a)(Ke().mark(function t(){var e,r;return Ke().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.g)(Object(s.c)(p,"users","".concat(h.email),"chats"));case 2:return e=t.sent,y(e.docs.map(function(t){return{data:Object(wt.a)({},t.data()),id:t.id}})),t.next=6,Object(s.g)(Object(s.c)(p,"onlineUsers"));case 6:r=t.sent,x(r.docs.map(function(t){return t.id}));case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})()()},[]),o.a.createElement("div",null,o.a.createElement(R.a,{id:"demo-customized-button","aria-controls":f?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":f?"true":void 0,variant:"text",disableElevation:!0,onClick:function(t){l(t.currentTarget)},sx:{padding:"0",margin:"0",color:"white"}},o.a.createElement(Je.a,null)),o.a.createElement(Xe,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:i,open:f,onClose:function(){l(null)}},o.a.createElement(Vt.a,null,o.a.createElement(Qt.a,null,o.a.createElement("h5",null,"Recent chats")),v.map(function(t){return o.a.createElement(L.b,{key:t.data.chatter,to:"/messenger/".concat(h.email,"/").concat(t.data.chatter),state:{sender:h.email,recipient:t.data.chatter},style:{textDecoration:"none",color:"black"},onClick:function(){return e(!1)}},o.a.createElement(Qt.a,{sx:{margin:"0",padding:"2px 3px"}},o.a.createElement($t.a,{sx:{display:"flex",alignItems:"center",gap:"10px",padding:"0",margin:"0",justifyContent:"center"}},t.data.chatterPP&&o.a.createElement(z.a,null,o.a.createElement(de.a,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:E.includes(t.data.chatter)?o.a.createElement("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"green"}}):o.a.createElement("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"red"}})},o.a.createElement(U.a,{sx:{width:34,height:34},src:t.data.chatterPP}))),o.a.createElement("p",{style:{width:"100px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},t.data.chatter))))}))))}function Ze(){Ze=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Qe=function(t){var e=t.sender,r=t.recipient,a=t.setReload,i=Object(n.useState)(""),l=Object(u.a)(i,2),f=l[0],h=l[1],d=Object(n.useState)([]),m=Object(u.a)(d,2),v=m[0],y=m[1],w=Object(n.useState)(!1),b=Object(u.a)(w,2),E=b[0],x=b[1],O=Object(n.useState)(!0),j=Object(u.a)(O,2),L=j[0],k=j[1],_=Object(n.useState)(!0),S=Object(u.a)(_,2),P=S[0],G=S[1],F=Object(n.useState)({}),I=Object(u.a)(F,2),C=I[0],T=I[1],A=Object(n.useState)(!1),D=Object(u.a)(A,2),Y=D[0],z=D[1],W=Object(n.useState)({}),B=Object(u.a)(W,2),M=B[0],q=B[1],H=Object(n.useState)(!0),J=Object(u.a)(H,2),K=J[0],X=J[1],V=Object(n.useState)({}),Z=Object(u.a)(V,2),Q=Z[0],$=Z[1],tt=Object(n.useRef)(),et=g().currentUser,rt="".concat(e>r?e+r:r+e),nt=Object(s.c)(p,"messages",rt,"chat"),at=function(){var t=Object(c.a)(Ze().mark(function t(){var e,r,n;return Ze().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),P||Y?(e=Object(s.k)(nt,Object(s.j)("createdAt","desc"),Object(s.i)(5)),G(!1),z(!1)):e=C,t.next=4,Object(s.g)(e);case 4:(r=t.sent).docs.map(function(t){var e=t.data();y(function(t){return[].concat(Object(ot.a)(t),[{data:e}])})}),(n=r.docs[r.docs.length-1])?(k(!0),T(Object(s.k)(nt,Object(s.j)("createdAt","desc"),Object(s.n)(n),Object(s.i)(5)))):k(!1),x(!1);case 9:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){K&&(y([]),at(),function(){var t=Object(c.a)(Ze().mark(function t(){var n,o;return Ze().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.f)(Object(s.e)(p,"users","".concat(r)));case 2:return n=t.sent,q(n.data()),t.next=6,Object(s.f)(Object(s.e)(p,"users","".concat(e)));case 6:o=t.sent,$(o);case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()(),X(!1))},[K]);var ct=function(){var t=Object(c.a)(Ze().mark(function t(n){return Ze().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,Object(s.a)(nt,{message:f,recipient:r,sender:e,createdAt:Object(s.l)()});case 3:return t.next=5,Object(s.m)(Object(s.e)(p,"users","".concat(et.email),"chats",rt),{chatter:et.email===e?r:e,chatterPP:et.email===e?M.ppurl:Q.ppurl});case 5:return t.next=7,Object(s.m)(Object(s.e)(p,"users","".concat(et.email===e?r:e),"chats",rt),{chatter:et.email,chatterPP:Q.ppurl});case 7:h(""),z(!0),X(!0);case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),ut=Object(n.useRef)(),lt=Object(n.useCallback)(function(t){E||(ut.current&&ut.current.disconnect(),ut.current=new IntersectionObserver(function(t){t[0].isIntersecting&&L&&at()}),t&&ut.current.observe(t))},[E,L]);return o.a.createElement(N.a,{flex:3,height:"100%"},o.a.createElement(N.a,{sx:{backgroundColor:"gray",height:"10vh",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(N.a,{sx:{visibility:{xs:"visable",sm:"hidden"},paddingLeft:"15px"}},o.a.createElement(Ve,{setReload:a})),o.a.createElement(N.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:"7px"}},o.a.createElement(U.a,{src:M.ppurl}),o.a.createElement("h3",null,r)),o.a.createElement(N.a,{sx:{display:{xs:"block",sm:"none"},visibility:"hidden"}},"XD")),o.a.createElement(N.a,{sx:{display:"flex",flexDirection:"column-reverse",justifyContent:"end",overflowY:"scroll",height:"70.8vh",backgroundColor:"lightgray"}},v&&v.map(function(t,e){return v.length===e+1?o.a.createElement(o.a.Fragment,null,o.a.createElement(qe,{key:t.data.id,message:t.data.message,sender:t.data.sender,createdAt:t.data.createdAt,recipientPP:M.ppurl,senderPP:Q.ppurl}),o.a.createElement("div",{ref:lt,key:Object(dt.a)()})):o.a.createElement(qe,{key:t.data.id,message:t.data.message,sender:t.data.sender,createdAt:t.data.createdAt,recipientPP:M.ppurl,senderPP:Q.ppurl})}),o.a.createElement("div",{ref:tt,style:{width:"10px",height:"2px",padding:"2px"}})),o.a.createElement(N.a,{sx:{backgroundColor:"gray",height:"10vh",display:"grid",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{style:{display:"flex",gap:"7px"}},o.a.createElement(it.a,{type:"text",variant:"standard",sx:{width:"55vw"},multiline:!0,placeholder:"Enter message",onChange:function(t){h(t.target.value)},value:f}),o.a.createElement(R.a,{variant:"contained",onClick:ct},"Send"))))};r(219);function $e(){$e=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,o)&&(d=v);var y=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var tr=function(t){var e=t.setRefresh,r=g().currentUser,a=Object(n.useState)([]),i=Object(u.a)(a,2),l=i[0],f=i[1],h=Object(n.useState)([]),d=Object(u.a)(h,2),m=d[0],v=d[1];return Object(n.useEffect)(function(){!function(){var t=Object(c.a)($e().mark(function t(){var e,n;return $e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.g)(Object(s.c)(p,"users","".concat(r.email),"chats"));case 2:return e=t.sent,f(e.docs.map(function(t){return{data:Object(wt.a)({},t.data()),id:t.id}})),t.next=6,Object(s.g)(Object(s.c)(p,"onlineUsers"));case 6:n=t.sent,v(n.docs.map(function(t){return t.id}));case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[]),o.a.createElement(N.a,{flex:1,sx:{display:{xs:"none",sm:"block"}}},o.a.createElement(N.a,{sx:{position:"fixed"}},o.a.createElement(Vt.a,null,o.a.createElement(Qt.a,null,o.a.createElement("h5",null,"Recent chats")),l.map(function(t){return o.a.createElement(L.b,{key:t.data.chatter,to:"/messenger/".concat(r.email,"/").concat(t.data.chatter),state:{sender:r.email,recipient:t.data.chatter},style:{textDecoration:"none",color:"black"},onClick:function(){return e(!1)}},o.a.createElement(Qt.a,{sx:{margin:"0",padding:"2px 3px"}},o.a.createElement($t.a,{sx:{display:"flex",alignItems:"center",gap:"10px",padding:"0",margin:"0",justifyContent:"center"}},t.data.chatterPP&&o.a.createElement(de.a,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:m.includes(t.data.chatter)?o.a.createElement("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"green"}}):o.a.createElement("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"red"}})},o.a.createElement(U.a,{sx:{width:34,height:34},src:t.data.chatterPP})),o.a.createElement("p",{style:{width:"100px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},t.data.chatter))))}))))};var er=function(){var t=Object(j.f)().state,e=t.sender,r=t.recipient,a=Object(n.useState)(!0),i=Object(u.a)(a,2),c=i[0],l=i[1];return Object(n.useEffect)(function(){c||l(!0)},[c]),o.a.createElement(o.a.Fragment,null,o.a.createElement(et,null),o.a.createElement(re.a,{direction:"row",justifyContent:"space-between",overflow:"hidden"},o.a.createElement(tr,{setRefresh:l}),r&&c&&o.a.createElement(Qe,{sender:e,recipient:r,setReload:l})))};var rr=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(L.a,null,o.a.createElement(w,null,o.a.createElement(j.d,null,o.a.createElement(j.b,{exact:!0,path:"/",element:o.a.createElement(be,null,o.a.createElement(ye,null))}),o.a.createElement(j.b,{path:"/update-profile",element:o.a.createElement(be,null,o.a.createElement(je,null))}),o.a.createElement(j.b,{path:"/profile/:id",element:o.a.createElement(be,null,o.a.createElement(nt,null))}),o.a.createElement(j.b,{path:"/profile/:id/message",element:o.a.createElement(be,null,o.a.createElement(Qe,null))}),o.a.createElement(j.b,{path:"/messenger/:id",element:o.a.createElement(be,null,o.a.createElement(er,null))}),o.a.createElement(j.b,{path:"/messenger/:id/:id",element:o.a.createElement(be,null,o.a.createElement(er,null))}),o.a.createElement(j.b,{path:"/forum",element:o.a.createElement(be,null,o.a.createElement(Kt,null))}),o.a.createElement(j.b,{path:"/semesters",element:o.a.createElement(be,null,o.a.createElement(ee,null))}),o.a.createElement(j.b,{path:"/semesters/semester/:id",element:o.a.createElement(be,null,o.a.createElement(_e,null))}),o.a.createElement(j.b,{path:"/semesters/semester/:id/subject/:id",element:o.a.createElement(be,null,o.a.createElement(Me,null))}),o.a.createElement(j.b,{path:"/signup",element:o.a.createElement(Le,null,o.a.createElement(_,null))}),o.a.createElement(j.b,{path:"/login",element:o.a.createElement(Le,null,o.a.createElement(we,null))}),o.a.createElement(j.b,{path:"/forgot-password",element:o.a.createElement(Le,null,o.a.createElement(xe,null))}))))))},nr=function(t){t&&t instanceof Function&&r.e(1).then(r.bind(null,298)).then(function(e){var r=e.getCLS,n=e.getFID,o=e.getFCP,a=e.getLCP,i=e.getTTFB;r(t),n(t),o(t),a(t),i(t)})};r(221);i.a.createRoot(document.getElementById("root")).render(o.a.createElement(rr,null)),nr()}},[[212,3,2]]]);
//# sourceMappingURL=main.89331ab5.chunk.js.map